"use strict";(self.webpackChunkslim_mom_frontend=self.webpackChunkslim_mom_frontend||[]).push([[603],{3603:(e,s,a)=>{a.r(s),a.d(s,{default:()=>I});const r="RegistrationPage_container__o9QxY",i="RegistrationPage_title__pXe0V",t="RegistrationPage_text__fWsu9",n="RegistrationPage_infoContainer__4Qzr7",l="RegistrationPage_block__CFZqZ";var o=a(660),m=a(6171),d=a(3380),c=a(2067);const u={loginForm:"RegistrationForm_loginForm__PNfPw",googleBtn:"RegistrationForm_googleBtn__32hWw",formInput:"RegistrationForm_formInput__m+H0J",passInput:"RegistrationForm_passInput__m655N",btnCont:"RegistrationForm_btnCont__GcnzE",pswdVisBtn:"RegistrationForm_pswdVisBtn__lIwYN",pswdBtnImg:"RegistrationForm_pswdBtnImg__ZD7sr",errorMessage:"RegistrationForm_errorMessage__I5ZMQ"};var g=a(9456),h=a(3892),p=a(3033),_=a(5043),x=a(1299),j=a(579);const{REACT_APP_BACKEND_URL:v="http://localhost:3000/aoi"}={},w=p.Ik().shape({name:p.Yj().min(2,"Name length must be at least 2 characters long").required("Name is required"),email:p.Yj().email("Invalid email").required("Email is required"),password:p.Yj().min(6,"Password must contain 6 or more characters!").required("Password is required")}),N=()=>{const[e,s]=(0,_.useState)(!1),a=(0,g.wA)(),[r,i]=(0,_.useState)("");return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.l1,{initialValues:{name:"",email:"",password:""},validationSchema:w,onSubmit:(e,s)=>{a((0,x.yd)(e)).then((e=>{"users/signup/rejected"===(null===e||void 0===e?void 0:e.type)&&i(null===e||void 0===e?void 0:e.payload),console.log(r)})),s.resetForm()},children:a=>{let{handleSubmit:i,errors:t,touched:n}=a;return(0,j.jsxs)(h.lV,{className:u.loginForm,children:[(0,j.jsx)(h.D0,{className:u.formInput,type:"name",name:"name",title:"Please enter your name or nickname'",placeholder:"Name *","min-length":"2",required:!0,id:"name"}),t.name&&n.name?(0,j.jsxs)("div",{className:u.errorMessage,children:["* ",t.name]}):null,'"email" must be a valid email'===r&&"Email in use"===r||n.name?null:(0,j.jsx)("div",{className:u.errorMessage,children:r}),(0,j.jsx)(h.D0,{className:u.formInput,type:"email",name:"email",title:"Please enter valid email address, for example  'example@gmail.com'",placeholder:"Email *","min-length":"6",required:!0,id:"email"}),t.email&&n.email?(0,j.jsxs)("div",{className:u.errorMessage,children:["* ",t.email]}):null,'"email" must be a valid email'!==r&&"Email in use"!==r||n.email?null:(0,j.jsx)("div",{className:u.errorMessage,children:r}),(0,j.jsx)(h.D0,{className:u.formInput+" "+u.passInput,type:e?"text":"password",name:"password",title:"Please enter your password. Minimum length 8 symbols",placeholder:"Password *","min-length":"8",required:!0,id:"password"}),(0,j.jsx)("button",{className:u.pswdVisBtn,onClick:()=>{s(!e)},type:"button",children:(0,j.jsx)("img",{className:u.pswdBtnImg,src:e?m.A:d.A,alt:"Button show/hide password"})}),t.password&&n.password?(0,j.jsxs)("div",{className:u.errorMessage,children:["* ",t.password]}):null,r&&"Password is wrong"===r&&!n.password?(0,j.jsx)("div",{className:u.errorMessage,children:r}):null,(0,j.jsxs)("div",{className:u.btnCont,children:[(0,j.jsx)(c.$n,{isPrimaryButton:!1,text:"Register",width:182,onClick:()=>{i()}}),(0,j.jsx)("a",{className:u.googleBtn,href:"".concat(v,"/users/google"),children:(0,j.jsx)("img",{className:u.googleLogo,src:o.A,alt:"Google logo"})})]})]})}})})};var f=a(9028),R=a(5170),y=a(2145);const I=()=>{const e=(0,g.d4)(f.H),s=(0,g.d4)(f.Qh),a=(0,g.d4)(f.wz),[o,m]=(0,_.useState)(!1),[d,u]=(0,_.useState)(10),[h,p]=(0,_.useState)("\u0421lick to resend");(0,_.useEffect)((()=>{if(o){const e=setInterval((()=>{d<=0?(p("\u0421lick to resend"),m(!1),u(10)):(u(d-1),p(d))}),1e3);return()=>clearInterval(e)}}));const x=(0,j.jsx)(j.Fragment,{children:s?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:n,children:[(0,j.jsxs)("h3",{className:i,children:[a.name,", thank you for registration. We've sent you a verification email."]}),(0,j.jsx)("p",{className:t,children:"If you've not recieve this email"}),(0,j.jsx)(c.$n,{isPrimaryButton:!1,text:"".concat(h),width:182,isDisabled:o,onClick:async()=>{try{const e=await R.Ay.post("/users/verificate",{email:a.email});m(!0),y.oR.success(e.data.message)}catch(r){var e,s;console.log(r),y.oR.error(null===(e=r.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)}}})]})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:i,children:"Register"}),(0,j.jsx)(N,{})]})});return(0,j.jsx)("main",{children:(0,j.jsx)("div",{className:r,children:e?(0,j.jsx)("div",{className:l,children:(0,j.jsx)(c.aH,{})}):x})})}}}]);
//# sourceMappingURL=603.a5f5776d.chunk.js.map